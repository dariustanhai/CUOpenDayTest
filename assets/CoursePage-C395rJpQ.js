import{l as g,c as i,o as c,b as t,t as r,e as b,r as y,u as M,h as C,a as B,f as m,k as j,w as x,g as f,F as _,i as $}from"./index-DemKpFZd.js";import{B as T}from"./BreadcrumbsComponent-CyqfwWEf.js";const D={class:"flex gap-10 items-center my-5 bg-cardiff-white drop-shadow-sm p-5"},O={class:"hidden sm:flex flex-col gap-1 pr-5 text-cardiff-blue"},L={class:"grow"},S={class:"max-w-3xl"},H={class:"font-bold"},N={class:"sm:hidden text-cardiff-blue grow mt-2"},V={class:"mt-2 text-light"},U={class:"flex flex-wrap gap-3 mt-5"},A=["href"],E=["href"],G={__name:"TimetableComponent",props:{program:Object},setup(n){const l=n,s=a=>{const e=a.getHours().toString().padStart(2,"0"),o=a.getMinutes().toString().padStart(2,"0");return`${e}:${o} ${parseInt(e)>=12?"PM":"AM"}`},d=g(()=>{const a=new Date(l.program.start_time);return s(a)}),u=g(()=>{const a=new Date(l.program.end_time);return s(a)}),p=g(()=>{const a=l.program.location;return encodeURIComponent(`${a.title}, ${a.address}, ${a.postcode}}`)});return(a,e)=>(c(),i("div",D,[e[2]||(e[2]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-clock-icon lucide-clock hidden sm:flex"},[t("path",{d:"M12 6v6l4 2"}),t("circle",{cx:"12",cy:"12",r:"10"})],-1)),t("div",O,[t("p",null,r(d.value),1),t("p",null,r(u.value),1)]),t("div",L,[t("div",S,[t("h3",H,r(n.program.title),1),t("div",N,[t("p",null,r(d.value)+" - "+r(u.value),1)]),t("p",V,r(n.program.description),1),t("div",U,[t("a",{class:"text-sm flex gap-2 items-center cursor-pointer hover:opacity-50",href:`https://www.google.com/maps/search/?api=1&query=${p.value}`,target:"_blank"},[e[0]||(e[0]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-map-pin-icon lucide-map-pin"},[t("path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}),t("circle",{cx:"12",cy:"10",r:"3"})],-1)),t("p",null,r(n.program.room)+", "+r(n.program.location.address)+", "+r(n.program.location.postcode),1)],8,A),t("a",{class:"text-sm flex gap-2 items-center cursor-pointer hover:opacity-50",href:`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${n.program.title}&dates=${l.program.start_time}/${l.program.end_time}&location=${p.value}`,target:"_blank"},[...e[1]||(e[1]=[b('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-icon lucide-calendar"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg> Add to calendar ',2)])],8,E)])])])]))}},I={key:0,class:"mb-10"},P=["src","alt"],F={class:"mb-5 bg-cardiff-red"},R={class:"p-5 max-w-6xl mx-auto"},Z={class:"text-2xl lg:text-4xl font-bold text-cardiff-white"},q={class:"p-5 max-w-6xl mx-auto"},z={class:"text-lg lg:text-2xl max-w-4xl"},J={class:"text-center my-10 text-lg lg:text-2xl font-medium underline"},K={class:"mt-10"},Q={class:"flex items-center gap-3"},W={class:"space-y-4"},tt={__name:"CoursePage",setup(n){const l=y([]),s=y({}),d=M();C(async()=>{s.value=await u(d.params.id),l.value=await p()});const u=async e=>(await(await fetch("/CUOpenDayTest/api/OpenDay.json")).json()).topics.find(h=>h.id===parseInt(e)),p=async()=>(await fetch("/CUOpenDayTest/api/Locations.json")).json(),a=g(()=>{if(!s.value.programs)return{};const e=Object.groupBy(s.value.programs,o=>o.room);for(const o in e)o==="null"&&(console.log("programsGroupedByHour"),delete e[o]);return e});return(e,o)=>{const v=B("router-link");return c(),i(_,null,[m(T,null,{default:x(()=>[o[1]||(o[1]=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19.75 32"},[t("title",null,"Chevron right"),t("path",{d:"M6.13,28.28L18.41,16,6.13,3.72,9.84,0l16,16-16,16Z",transform:"translate(-6.13 0)"})],-1)),m(v,{class:"text-lg text-light cursor-pointer hover:opacity-50 underline",to:"/CUOpenDayTest/courses"},{default:x(()=>[...o[0]||(o[0]=[f("Courses",-1)])]),_:1}),o[2]||(o[2]=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19.75 32"},[t("title",null,"Chevron right"),t("path",{d:"M6.13,28.28L18.41,16,6.13,3.72,9.84,0l16,16-16,16Z",transform:"translate(-6.13 0)"})],-1)),m(v,{to:{name:"course",params:{id:s.value.id}},class:"text-lg text-light cursor-pointer hover:opacity-50"},{default:x(()=>[f(r(s.value.name),1)]),_:1},8,["to"])]),_:1}),s.value?(c(),i("main",I,[t("img",{src:s.value.cover_image,alt:s.value.name,class:"w-full lg:h-100 object-cover"},null,8,P),t("div",F,[t("div",R,[t("h1",Z,r(s.value.name),1)])]),t("div",q,[t("p",z,r(s.value.description),1),t("h2",J," Open Day Timetable for "+r(s.value.name),1),(c(!0),i(_,null,$(a.value,(w,k)=>(c(),i("article",{key:k},[t("h2",K,[t("div",Q,[o[3]||(o[3]=b('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-building-icon lucide-building"><path d="M12 10h.01"></path><path d="M12 14h.01"></path><path d="M12 6h.01"></path><path d="M16 10h.01"></path><path d="M16 14h.01"></path><path d="M16 6h.01"></path><path d="M8 10h.01"></path><path d="M8 14h.01"></path><path d="M8 6h.01"></path><path d="M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"></path><rect x="4" y="2" width="16" height="20" rx="2"></rect></svg>',1)),f(" "+r(w[0].room),1)])]),t("div",W,[(c(!0),i(_,null,$(w,h=>(c(),i("section",{key:h.id},[m(G,{program:h},null,8,["program"])]))),128))])]))),128))])])):j("",!0)],64)}}};export{tt as default};
