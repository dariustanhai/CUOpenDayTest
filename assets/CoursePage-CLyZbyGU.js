import{l as g,c as i,o as c,b as t,t as s,e as b,r as k,u as M,h as C,a as B,f as m,w as x,g as f,F as _,i as $}from"./index-D2K8af5E.js";import{B as j}from"./BreadcrumbsComponent-C6Cf3-bC.js";const T={class:"flex gap-10 items-center my-5 bg-cardiff-white drop-shadow-sm p-5"},D={class:"hidden sm:flex flex-col gap-1 pr-5 text-cardiff-blue grow"},O={class:"grow"},L={class:"max-w-3xl"},S={class:"font-bold"},H={class:"sm:hidden text-cardiff-blue grow mt-2"},N={class:"mt-2 text-light"},U={class:"flex flex-wrap gap-3 mt-5"},V=["href"],A=["href"],E={__name:"TimetableComponent",props:{program:Object},setup(n){const l=n,r=a=>{const e=a.getHours().toString().padStart(2,"0"),o=a.getMinutes().toString().padStart(2,"0");return`${e}:${o} ${parseInt(e)>=12?"PM":"AM"}`},d=g(()=>{const a=new Date(l.program.start_time);return r(a)}),p=g(()=>{const a=new Date(l.program.end_time);return r(a)}),u=g(()=>{const a=l.program.location;return encodeURIComponent(`${a.title}, ${a.address}, ${a.postcode}}`)});return(a,e)=>(c(),i("div",T,[e[2]||(e[2]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-clock-icon lucide-clock hidden sm:flex"},[t("path",{d:"M12 6v6l4 2"}),t("circle",{cx:"12",cy:"12",r:"10"})],-1)),t("div",D,[t("p",null,s(d.value),1),t("p",null,s(p.value),1)]),t("div",O,[t("div",L,[t("h3",S,s(n.program.title),1),t("div",H,[t("p",null,s(d.value)+" - "+s(p.value),1)]),t("p",N,s(n.program.description),1),t("div",U,[t("a",{class:"text-sm flex gap-2 items-center cursor-pointer hover:opacity-50",href:`https://www.google.com/maps/search/?api=1&query=${u.value}`,target:"_blank"},[e[0]||(e[0]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-map-pin-icon lucide-map-pin"},[t("path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}),t("circle",{cx:"12",cy:"10",r:"3"})],-1)),t("p",null,s(n.program.room)+", "+s(n.program.location.address)+", "+s(n.program.location.postcode),1)],8,V),t("a",{class:"text-sm flex gap-2 items-center cursor-pointer hover:opacity-50",href:`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${n.program.title}&dates=${l.program.start_time}/${l.program.end_time}&location=${u.value}`,target:"_blank"},[...e[1]||(e[1]=[b('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-icon lucide-calendar"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg> Add to calendar ',2)])],8,A)])])])]))}},G={class:"mb-10"},I=["src","alt"],P={class:"mb-5 bg-cardiff-red"},F={class:"p-5 max-w-6xl mx-auto"},R={class:"text-2xl lg:text-4xl font-bold text-cardiff-white"},Z={class:"p-5 max-w-6xl mx-auto"},q={class:"text-lg lg:text-2xl max-w-4xl"},z={class:"text-center my-10 text-lg lg:text-2xl font-medium underline"},J={class:"mt-10"},K={class:"flex items-center gap-3"},Q={class:"space-y-4"},Y={__name:"CoursePage",setup(n){const l=k([]),r=k({}),d=M();C(async()=>{r.value=await p(d.params.id),l.value=await u()});const p=async e=>(await(await fetch("/CUOpenDayTest/api/OpenDay.json")).json()).topics.find(h=>h.id===parseInt(e)),u=async()=>(await fetch("/CUOpenDayTest/api/Locations.json")).json(),a=g(()=>{if(!r.value.programs)return{};const e=Object.groupBy(r.value.programs,o=>o.room);for(const o in e)o==="null"&&(console.log("programsGroupedByHour"),delete e[o]);return e});return(e,o)=>{const w=B("router-link");return c(),i(_,null,[m(j,null,{default:x(()=>[o[1]||(o[1]=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19.75 32"},[t("title",null,"Chevron right"),t("path",{d:"M6.13,28.28L18.41,16,6.13,3.72,9.84,0l16,16-16,16Z",transform:"translate(-6.13 0)"})],-1)),m(w,{class:"text-lg text-light cursor-pointer hover:opacity-50 underline",to:"/CUOpenDayTest/courses"},{default:x(()=>[...o[0]||(o[0]=[f("Courses",-1)])]),_:1}),o[2]||(o[2]=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19.75 32"},[t("title",null,"Chevron right"),t("path",{d:"M6.13,28.28L18.41,16,6.13,3.72,9.84,0l16,16-16,16Z",transform:"translate(-6.13 0)"})],-1)),m(w,{to:{name:"course",params:{id:r.value.id}},class:"text-lg text-light cursor-pointer hover:opacity-50"},{default:x(()=>[f(s(r.value.name),1)]),_:1},8,["to"])]),_:1}),t("main",G,[t("img",{src:r.value.cover_image,alt:r.value.name,class:"w-full lg:h-100 object-cover"},null,8,I),t("div",P,[t("div",F,[t("h1",R,s(r.value.name),1)])]),t("div",Z,[t("p",q,s(r.value.description),1),t("h2",z," Open Day Timetable for "+s(r.value.name),1),(c(!0),i(_,null,$(a.value,(v,y)=>(c(),i("article",{key:y},[t("h2",J,[t("div",K,[o[3]||(o[3]=b('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-building-icon lucide-building"><path d="M12 10h.01"></path><path d="M12 14h.01"></path><path d="M12 6h.01"></path><path d="M16 10h.01"></path><path d="M16 14h.01"></path><path d="M16 6h.01"></path><path d="M8 10h.01"></path><path d="M8 14h.01"></path><path d="M8 6h.01"></path><path d="M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"></path><rect x="4" y="2" width="16" height="20" rx="2"></rect></svg>',1)),f(" "+s(v[0].room),1)])]),t("div",Q,[(c(!0),i(_,null,$(v,h=>(c(),i("section",{key:h.id},[m(E,{program:h},null,8,["program"])]))),128))])]))),128))])])],64)}}};export{Y as default};
